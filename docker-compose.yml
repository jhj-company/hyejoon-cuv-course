# ===============================
# ğŸš€ Docker Compose ì‹¤í–‰/ê´€ë¦¬ ëª…ë ¹ì–´
# -------------------------------
# ì „ì²´ ì„œë¹„ìŠ¤ ì‹¤í–‰ (ë°±ê·¸ë¼ìš´ë“œ)
#   docker compose up -d
#
# ì „ì²´ ì„œë¹„ìŠ¤ ì¤‘ì§€ + ë„¤íŠ¸ì›Œí¬ ì œê±° (ë°ì´í„° ìœ ì§€)
#   docker compose down
#
# ì „ì²´ ì„œë¹„ìŠ¤ ì¤‘ì§€ + ë³¼ë¥¨/ë°ì´í„°ê¹Œì§€ ì‚­ì œ (ì£¼ì˜!)
#   docker compose down -v
#
# íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ì¬ì‹œì‘ (ì˜ˆ: mysql)
#   docker compose restart mysql
#
# ë¡œê·¸ í™•ì¸ (ì˜ˆ: app container name: hjcuv-redis)
#   docker logs -f hjcuv-redis
#
# ë„ì»¤ ë‚´ë¶€ bash ì ‘ì†
#   docker exec -it <container_name> bash
#
# Redis ping í™•ì¸
#   docker exec -it hjcuv-redis redis-cli ping
# ===============================

version: "3.8"
services:
  mysql:
    image: mysql:8.0
    container_name: hjcuv-mysql
    environment:
      MYSQL_ROOT_PASSWORD: 1234
      MYSQL_DATABASE: hjcuv
      MYSQL_USER: hjcuv
      MYSQL_PASSWORD: 1234
    ports:
      - "3307:3306"
    volumes:
      - mysql_data:/var/lib/mysql # MySQL ê³µì‹ ê¸°ë³¸ ë°ì´í„° ë””ë ‰í† ë¦¬

  redis:
    image: redis:7.4
    container_name: hjcuv-redis
    # --save "": RDB ìŠ¤ëƒ…ìƒ· ë¹„í™œì„±í™”
    command: >
      redis-server
      --save ""
    ports:
      - "6379:6379"

volumes:
  mysql_data: